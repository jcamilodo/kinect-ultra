#summary FAQ日本語版
#labels Featured

*注意: 本FAQはOpenNI版に基づいています。*

<wiki:toc max_depth="3"/>

= 動かない =

== コンソールにエラーが表示されて終了する ==

=== "Failed: Can't create any node of the requested type!" が出る ==

  * Kinectが接続されていないと出ることがあります。
  * NITEがインストールされていないと出ることがあります。
    * NITEをインストールしたはずなのにこの現象が起こる場合、NITEのインストレーションが壊れている可能性があります。NITEを一旦アンインストールし、再インストールすると直るかもしれません。
  * Microsoftの公式Kinect SDKがインストールされていると出ることがあります。WorkingConfigurations ページに一応の回避方法を載せてあります。

=== "Failed: Unknown USB device speed!" が出る ===

  * Kinectに電源が接続されていないと出ることがあります。

=== "Failed: File not found!" が出る ===

  * 実行時のカレントディレクトリ(作業ディレクトリ)にdataディレクトリがないと出ることがあります。kinect-ultra.exeとdataディレクトリを同じところに置いて、そこをカレントディレクトリとして実行してください。
  * VC++上で実行する場合、デバッガの設定で作業ディレクトリに .. を設定してください。この設定はなぜかVCプロジェクトファイル(slnやvcproj)に保存されないので手でやる必要があります。

=== "Failed: This GPU does not support shaders" が出る ===

  * GPUとグラフィックスドライバが「プログラマブルシェーダ」という機能をサポートしていないと出ることがあります。この機能はOpenGL 2以降の機能なので、直前に表示されるOpenGL versionが2.0以上でなかったらビンゴです。グラフィックスドライバを最新版にすると解消されることがあります。

=== "Sorry this program cannot run because VAOs are not supported" が出る ===

  * GPUとグラフィックスドライバが「VAO」という機能をサポートしていないと出ることがあります。この機能はOpenGL 3以降の機能であり、またOpenGL 2でもGPUとグラフィックスドライバがVAO拡張をサポートしていればOKです。グラフィックスドライバを最新版にすると解消されることがあります。

== ダイアログににエラーが表示されて終了する ==

=== "コンピューターにopenNI.dllがないため、プログラムを開始できません" が出る ==

  * OpenNIの64ビット版をインストールしているとこれが出ます。OpenNIの32ビット版をインストールしてください。お手持ちのOSが64ビット版でも、OpenNIの32ビット版は正常に動作します。プログラムの実行速度が遅くなるといったこともありません。

  * 実のところ、OpenNI 64ビット版を使うメリットは「大量のメモリを使うプログラムを実行できる」ことくらいしかないのです。メリットがほとんどないものですから、私も本プログラムをOpenNI 64ビット版に対応させる作業をしていません。将来時間があればやりたいとは思っていますが、今しばらく32ビット版を使っていただければ幸いです。

== 異常終了する ==

時々報告がありますが、原因はよくわかりません。次のようにすると直るかもしれません。

  * kinect-ultraの最新版を使う。
  * グラフィックスドライバを最新版にする。

Issuesに報告していただければできる限り調査しますが、こちらの手元で再現しないGPUとグラフィックスドライバに依存する問題は究明が非常に困難です。デバッガで追ってもらうなど調査にご協力いただければ幸いです。

= 動きを認識しない =

== すぐにロストする ==

  * あるunstable版のOpenNI、NITE、SensorKinectドライバでこの現象が起こるようです。[WorkingConfigurations]ページにこれらのソフトウェアの推奨バージョンを書いたので、それを使って試してみてください。
  * 環境によって骨格認識しにくい状況があると聞いたことがあります。
    * だぶだぶの服を着ていると認識しにくいです。その場合は服を変えましょう。
    * 部屋にKinectが出す赤外線を反射するものがあると認識しにくいそうです。うちでは、Kinectの角度によっては足元の絨毯が体の一部と認識されてしまい困ったことがあります。部屋の物の配置や、Kinectの位置や角度を変えてみると改善するかもしれません。
  * PCの処理能力が低くてフレームレートが低いと、体の動きを連続してとらえることができず、ロストしやすくなります。

== 技が出ない ==

  * 体のパーツがKinectからはっきり分離して見える状態でないと認識しにくいです。
    * 例えば、手を頭に近づけすぎたり頭を手で隠してしまうとアイスラッガーやエメリウム光線が出にくくなります。頭から少し手を離すようにすると認識しやすくなります。
    * 例えば、左手を右肘にぴったりくっつけてしまうとワイドショットが出にくくなります。少し離すと認識しやすくなります。
    * 体が横を向いていると、体の反対側の面が見えないので認識しにくくなります。
  * PCの処理能力が低くてフレームレートが低いと認識しにくくなります。だいたい15フレーム/秒くらいは必要だと思います。同じポーズに数フレームとどまっていないと技が出ないようになっているので、フレームレートが低いとそれが難しくなるのです。また、仮に技が出ても、低フレームレートではきれいに描画されません。
  * "t" キーを押して Trigger Happy Mode を Happy または Happier に設定すると認識し易くなるので試してみてください。

= Kinect Hacker向け: コンパイルとビルドにまつわる問題 =

== ソースコードを取得する方法は? ==

  * まずはソースコード管理ツールSubversionを入手してください。ダウンロード方法やインストール方法はググればすぐ見つかります。
    * 派生物が幾つかありますが、現在の本家は[http://subversion.apache.org/ Apache]のようです。
    * GUIがよければ[http://tortoisesvn.tigris.org/ TortoiseSVN]がポピュラーです。
  * [http://code.google.com/p/kinect-ultra/source/checkout checkout]ページの説明に従い、次のURLから "checkout" してください: https://kinect-ultra.googlecode.com/svn/trunk

== デバッガ上で実行できない ==

  * デバッガの作業ディレクトリとして ".." (親ディレクトリ)を設定してください。これをやらないと File Not Found エラーが出ます。

  * VC++を管理者モードで実行してください。これをやらないと "Runtime Error R6030 - CRT not initialized" エラーが出る場合があるようです。